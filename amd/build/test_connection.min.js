/**
 * JavaScript module to test connection to NAAS API.
 *
 * @copyright  2023 ISAE-SUPAERO (https://www.isae-supaero.fr/)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_naas/test_connection",["jquery","core/ajax","core/str"],function(i,r,e){return{init:function(){i("#testconnection").on("click",function(r){r.preventDefault();const s=i("#connection-result");s.hide().removeClass();const n=e.get_string("connection_test_success","naas"),t=e.get_string("connection_test_failed","naas");i.ajax({url:M.cfg.wwwroot+"/mod/naas/proxy.php",type:"GET",data:{path:"/nuggets/search?is_default_version=true&page_size=6&fulltext="},success:function(i){const r=JSON.parse(i);r.success?n.done(function(i){s.addClass("alert alert-success").text(i),s.show()}).fail(function(){s.addClass("alert alert-success").text("Success!"),s.show()}):t.done(function(r){s.addClass("alert alert-danger").html("<p>"+r+"</p><code>"+i+"</code>"),s.show()}).fail(function(){s.addClass("alert alert-danger").html("<p>Failed!</p><code>"+i+"</code>"),s.show()})},error:function(i,r,e){t.done(function(i){s.addClass("alert alert-danger").html(`<p>${i}</p><p>${e}</p>`),s.show()}).fail(function(){s.addClass("alert alert-danger").html(`<p>Failed!</p><p>${e}</p>`),s.show()})}})})}}});

//# sourceMappingURL=test_connection.min.js.map