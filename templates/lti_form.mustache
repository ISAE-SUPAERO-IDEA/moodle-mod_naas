{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_naas/lti_form

    Template for the LTI launch form.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * launchurl - The URL to launch the LTI content
    * launchdata - Array of objects with key and value properties for the form inputs
    * signature - The OAuth signature

    Example context (json):
    {
        "launchurl": "https://example.com/lti",
        "launchdata": [
            {"key": "lti_version", "value": "LTI-1p0"},
            {"key": "lti_message_type", "value": "basic-lti-launch-request"}
        ],
        "signature": "XYZABC123"
    }
}}
<form id="ltiLaunchForm" name="ltiLaunchForm" method="POST" action="{{launchurl}}">
    {{#launchdata}}
    <input type="hidden" name="{{key}}" value="{{value}}">
    {{/launchdata}}
    <input type="hidden" name="oauth_signature" value="{{signature}}">
</form>
<script>
    window.addEventListener("load", () => {
        document.getElementById("ltiLaunchForm").submit();
    });
</script> 